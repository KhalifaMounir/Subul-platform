<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>سبل - منصة التعلم الإلكتروني</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  </head>
  <body>
    <div id="app">
      <!-- Header -->
      <header class="header">
        <div class="container">
          <div class="header-content">
            <div class="logo" onclick="showView('dashboard')">
              <i class="fas fa-book-open"></i>
              <span>سبل</span>
            </div>
            <nav class="nav">
              <button class="nav-btn active" data-view="dashboard">
                <i class="fas fa-book-open"></i>
                <span>دوراتي</span>
              </button>
              <button class="nav-btn" data-view="profile">
                <i class="fas fa-user"></i>
                <span>الملف الشخصي</span>
              </button>
              <button id="auth-btn" class="nav-btn login-nav-btn" onclick="handleAuth()">
                <i id="auth-icon" class="fas fa-sign-in-alt"></i>
                <span id="auth-text">تسجيل الدخول</span>
              </button>
            </nav>
          </div>
        </div>
      </header>

      <!-- Main Content (unchanged) -->
      <main id="main-content">
        <!-- Dashboard View -->
        <div id="dashboard-view" class="view active">
          <div class="container">
            <div class="welcome-section">
              <h1>أهلاً بك مرة أخرى!</h1>
              <p>تابع رحلة التعلم مع دوراتنا التفاعلية</p>
            </div>
            <!-- Search and Filter Section -->
            <div class="search-filter-section">
              <div class="search-container">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="ابحث عن الدورات..." />
              </div>
              <div class="filter-container">
                <select id="category-filter">
                  <option value="">جميع الفئات</option>
                  <option value="programming">البرمجة</option>
                  <option value="design">التصميم</option>
                  <option value="business">الأعمال</option>
                  <option value="language">اللغات</option>
                </select>
                <select id="level-filter">
                  <option value="">جميع المستويات</option>
                  <option value="beginner">مبتدئ</option>
                  <option value="intermediate">متوسط</option>
                  <option value="advanced">متقدم</option>
                </select>
                <select id="duration-filter">
                  <option value="">جميع المدد</option>
                  <option value="short">أقل من 3 ساعات</option>
                  <option value="medium">3-6 ساعات</option>
                  <option value="long">أكثر من 6 ساعات</option>
                </select>
              </div>
            </div>
            <div class="stats-grid">
              <div class="stat-card">
                <i class="fas fa-graduation-cap"></i>
                <div>
                  <h3 id="completed-courses">0</h3>
                  <p>الدورات المكتملة</p>
                </div>
              </div>
              <div class="stat-card">
                <i class="fas fa-clock"></i>
                <div>
                  <h3 id="total-hours">0</h3>
                  <p>ساعات التعلم</p>
                </div>
              </div>
              <div class="stat-card">
                <i class="fas fa-trophy"></i>
                <div>
                  <h3 id="quiz-score">0%</h3>
                  <p>متوسط درجات الاختبارات</p>
                </div>
              </div>
              <div class="stat-card">
                <i class="fas fa-certificate"></i>
                <div>
                  <h3 id="certificates-count">0</h3>
                  <p>الشهادات المحصلة</p>
                </div>
              </div>
            </div>
<div class="courses-section">
  <h2>الدورات المتاحة</h2>
  <div class="courses-grid" id="courses-grid">
    <!-- Courses will be dynamically loaded here -->
  </div>
</div>
          </div>
        </div>

        <!-- Profile View -->
        <div id="profile-view" class="view">
          <div class="container">
            <div class="profile-header">
              <div class="profile-avatar">
                <i class="fas fa-user"></i>
              </div>
              <div class="profile-info">
                <h1>الملف الشخصي</h1>
                <p>تتبع تقدمك في التعلم وإنجازاتك</p>
              </div>
            </div>
            <div class="profile-stats">
              <div class="achievement-cards">
                <div class="achievement-card">
                  <i class="fas fa-medal"></i>
                  <h3>متعلم سريع</h3>
                  <p>أكمل أول دورة</p>
                </div>
                <div class="achievement-card">
                  <i class="fas fa-brain"></i>
                  <h3>خبير الاختبارات</h3>
                  <p>حصل على 90%+ في الاختبار</p>
                </div>
                <div class="achievement-card locked">
                  <i class="fas fa-lock"></i>
                  <h3>بطل الدورات</h3>
                  <p>أكمل 5 دورات</p>
                </div>
              </div>
              <!-- Certificates Section -->
              <div class="certificates-section">
                <h2>شهاداتي</h2>
                <div class="certificates-grid" id="certificates-grid">
                  <!-- Certificates will be loaded here -->
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Course Player View -->
    <div id="course-view" class="view">
  <div class="course-container">
    <div class="course-sidebar">
      <button class="back-btn" onclick="showView('dashboard')">
        <i class="fas fa-arrow-right"></i>
        العودة للدورات
      </button>
      <div class="course-info">
        <h3 id="course-title">عنوان الدورة</h3>
        <div class="progress-bar">
          <div class="progress-fill" id="course-progress"></div>
        </div>
        <span id="progress-text">0% مكتمل</span>
      </div>
      <div class="lessons-list" id="lessons-list">
        <!-- Lessons will be dynamically loaded here -->
      </div>
    </div>
    <div class="course-content">
      <div class="video-player" id="video-player">
        <div class="video-placeholder">
          <i class="fas fa-play"></i>
          <p>اختر درساً لبدء التعلم</p>
        </div>
      </div>
      <div class="lesson-content">
        <h2 id="lesson-title">مرحباً بك في الدورة</h2>
        <p id="lesson-description">اختر درساً من الشريط الجانبي لبدء رحلة التعلم.</p>
        <div class="lesson-actions">
        <button class="btn-primary" id="take-quiz-btn" onclick="startQuiz()" style="display: none;">
  <i class="fas fa-question-circle"></i>
  خذ الاختبار
</button>
          <button class="btn-secondary" id="next-lesson-btn" onclick="nextLesson()" style="display: none;">
            الدرس التالي
            <i class="fas fa-arrow-left"></i>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

        <!-- Quiz Modal -->
        <div id="quiz-modal" class="modal">
          <div class="modal-content">
            <div class="quiz-header">
              <h2 id="quiz-title">اختبار الدرس</h2>
              <button class="close-btn" onclick="closeQuiz()">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="quiz-body">
              <div class="quiz-progress">
                <div class="quiz-progress-bar">
                  <div class="quiz-progress-fill" id="quiz-progress"></div>
                </div>
                <span id="quiz-counter">السؤال 1 من 3</span>
              </div>
              <div class="question-container">
                <h3 id="question-text">السؤال سيظهر هنا</h3>
                <div class="options-container" id="options-container">
                  <!-- Quiz options will be loaded here -->
                </div>
              </div>
              <div class="quiz-actions">
                <button class="btn-secondary" id="prev-question-btn" onclick="prevQuestion()" disabled>
                  السابق
                </button>
                <button class="btn-primary" id="next-question-btn" onclick="nextQuestion()">
                  السؤال التالي
                </button>
                <button class="btn-primary" id="submit-quiz-btn" onclick="submitQuiz()" style="display: none;">
                  إرسال الاختبار
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Quiz Results Modal -->
        <div id="results-modal" class="modal">
          <div class="modal-content">
            <div class="results-header">
              <h2>نتائج الاختبار</h2>
            </div>
            <div class="results-body">
              <div class="score-display">
                <div class="score-circle">
                  <span id="final-score">0%</span>
                </div>
                <h3 id="score-message">عمل رائع!</h3>
                <p id="pass-status"></p>
              </div>
              <div class="results-actions">
                <button class="btn-primary" onclick="closeResults()">متابعة التعلم</button>
                <button class="btn-secondary" onclick="retakeQuiz()">إعادة الاختبار</button>
                <button class="btn-success" id="get-certificate-btn" onclick="getCertificate()" style="display: none;">
                  <i class="fas fa-certificate"></i>
                  احصل على الشهادة
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Certificate Modal -->
        <div id="certificate-modal" class="modal">
          <div class="modal-content certificate-content">
            <div class="certificate-header">
              <h2>شهادة إتمام الدورة</h2>
              <button class="close-btn" onclick="closeCertificate()">
                <i class="fas fa-times"></i>
              </button>
            </div>
            <div class="certificate-body">
              <div class="certificate" id="certificate">
                <div class="certificate-border">
                  <div class="certificate-inner">
                    <div class="certificate-logo">
                      <i class="fas fa-graduation-cap"></i>
                      <h1>سبل</h1>
                    </div>
                    <h2>شهادة إتمام</h2>
                    <p class="certificate-text">هذا يشهد أن</p>
                    <h3 class="student-name">الطالب</h3>
                    <p class="certificate-text">قد أتم بنجاح دورة</p>
                    <h3 class="course-name" id="cert-course-name">اسم الدورة</h3>
                    <div class="certificate-details">
                      <p>تاريخ الإتمام: <span id="cert-date"></span></p>
                      <p>الدرجة النهائية: <span id="cert-score"></span></p>
                    </div>
                    <div class="certificate-signature">
                      <div class="signature-line">
                        <p>منصة سبل للتعلم الإلكتروني</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="certificate-actions">
                <button class="btn-primary" onclick="downloadCertificate()">
                  <i class="fas fa-download"></i>
                  تحميل الشهادة
                </button>
                <button class="btn-secondary" onclick="printCertificate()">
                  <i class="fas fa-print"></i>
                  طباعة الشهادة
                </button>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>

<script src="{{ url_for('static', filename='js/data.js') }}"></script>
<script src="{{ url_for('static', filename='js/quiz.js') }}"></script>
<script src="{{ url_for('static', filename='js/search.js') }}"></script>
<script src="{{ url_for('static', filename='js/certificate.js') }}"></script>
<script src="{{ url_for('static', filename='js/main.js') }}"></script>

  </body>
</html>